################################################################################
#                             Broil DEV NortEurope
################################################################################
################################################################################
#                                 GENERAL VARS
################################################################################
tenant_id       = "fb6ea403-7cf1-4905-810a-fe5547e98204"
location        = "northeurope"
subscription_id = "1f431201-4063-42cc-8b71-64d1cf241ded"
client_id       = "56cf7577-9cb0-4bde-98c8-c283a163cbcc"
environmentName = "dev"

network_config = [
  {
    subscription_id = "1f431201-4063-42cc-8b71-64d1cf241ded"
    vnet_rg_name    = "spoke-network-at3655-dev-2132-az02"
    vnet_name       = "vnt-2132-az02"
    subnets = [
      "USER-0001", # Subnet for the system node pool
      "USER-0002", # Subnet for the first additional node pool
      "USER-0004"  # Subnet for the second additional node pool
    ]
  }
]

csre_resource_group           = "AT3655_DEV_NEU_EVA"
csre_kv_name                  = "akv-AT3655-DEV-NEU"
csre_uami_name                = "UAMI_DEV_NEU_AT3655"
csre_disk_encryption_set_name = "des-AT3655-DEV-NEU"

################################################################################
#                                 WINDOWS VARS
################################################################################
win_vm_admin = "ubsprod\\app_Global_RATES_BROIL_ENV"

####ADO########
ado_configs = {
  ado_1 = {
    av_zone        = 1
    vm_name_suffix = "ado1"
    vm_sku         = "rhel-lvm79-gen2"
    vm_size        = "Standard_D4as_v5"
    subnet_name    = "USER-0001" # Ensure this corresponds to the subnet in the network config
    tags           = { machineType = "adoagent" }
  }
}

#### AUTOSYS
autosys_vm_disk_size = "60"
autosys_configs = {
  autosys_1 = {
    av_zone        = 1
    vm_name_suffix = "atn1"
    vm_sku         = "2022-datacenter-azure-edition"
    vm_size        = "Standard_D16as_v5"
    subnet_name    = "USER-0001" # Ensure this corresponds to the subnet in the network config
    tags = {
      machineType    = "autosys"
      PMEnabled      = "false"
      PMEnabledDaily = "false"
      PatchNow       = "false"
    }
  }
  autosys_2 = {
    av_zone        = 2
    vm_name_suffix = "atn2"
    vm_sku         = "2022-datacenter-azure-edition"
    vm_size        = "Standard_D16as_v5"
    subnet_name    = "USER-0002" # Ensure this corresponds to the subnet in the network config
    tags = {
      machineType    = "autosys"
      PMEnabled      = "false"
      PMEnabledDaily = "false"
      PatchNow       = "false"
    }
  }
  autosys_3 = {
    av_zone        = 3
    vm_name_suffix = "atn3"
    vm_sku         = "2022-datacenter-azure-edition"
    vm_size        = "Standard_D16as_v5"
    subnet_name    = "USER-0001" # Ensure this corresponds to the subnet in the network config
    tags = {
      machineType    = "autosys"
      PMEnabled      = "false"
      PMEnabledDaily = "false"
      PatchNow       = "false"
    }
  }
  autosys_4 = {
    av_zone        = 1
    vm_name_suffix = "atn4"
    vm_sku         = "2022-datacenter-azure-edition"
    vm_size        = "Standard_D16as_v5"
    subnet_name    = "USER-0004" # Ensure this corresponds to the subnet in the network config
    tags = {
      machineType    = "autosys"
      PMEnabled      = "false"
      PMEnabledDaily = "false"
      PatchNow       = "false"
    }
  }
}

ubsdeploy_configs = {
  "ubsda_1" = {
    vm_name_suffix = "uda1" # uda=ubsdeploy agent
    subnet_name    = "USER-0001" # Ensure this corresponds to the subnet in the network config
  }
}

# Application user account to run the grid processes.
application_user_account = "svc_anb_rbazunixdevapp"

# Variables for Resource Group. RG created will be a concatenation of the below variables.
# Combination of application_name/location/environmentName must be UNIQUE or storage resources will fail.

application_name = "ratesbroil"

# Short name used as part of VM naming convention. Allows multiple dev environments to be used if required.
environment_short_name = ""

# VM params for passwordless dzdo root access
ssh_key_accounts = "svc_anb_rbazunixdev"
ssh_key          = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCZpf1+YgzbABX8xwUAbWsEDFKfCHst0cQunMZuF2PTzvUH3f0nl0/kvCpSt+V6av1SBfVZWxwWFcP8NS0cH0jOi3iQAR8Qjvh+8t6mi4Zb30aSgdv4lnqEa4ki/dvwAkHh2RS70VFPhvrALpb+v6UztncUNfHq9Eu7MfL5MdhG2/bSK0viB5ab2nNFr+jIDslINa5kFG1RyLxty9H0OtaK7fepeq3CAk1RwMG7jEsUTB4ilHK5CgdytTtMj5WcEPLqqMJxSTrCr0SVtm6cRTVrce50h0DmxHrVVCAHR48WY5UMD/FF7h/KIE1NBWaqajumOvwoOxWzM0CtBqlyuIA7 svc_anb_rbazunixdev rsa 2048-bit key with passwordless dzdo root access"

# gridserver server config
grid_server_sku   = "Standard_D4as_v5"
grid_server_image = "rhel-lvm79-gen2"
vm_disk_size      = "120"
ubs_deploy_org    = "RatesBroil"
ubs_deploy_env    = "DEV"
timezones = {
  "eastus2"       = "America/New_York"
  "centralus"     = "America/New_York"
  "westeurope"    = "Europe/London"
  "northeurope"   = "Europe/London"
  "eastasia"      = "Asia/Hong_Kong"
  "southeastasia" = "Asia/Hong_Kong"
}

# Primary Director for engines to connect to.
primary_director = "xxxx"

grid_broker_configs = {
  LDP_PDR = {
    vm_name_suffix     = "gn0a"
    ubs_deploy_install = true
    subnet_name        = "USER-0001" # Ensure this corresponds to the subnet in the network config
    tags = {
      BackupEnabled = "false"
      PMEnabled = "false"
      type = "manager"
      role = "primaryDirector"
      gridEnv = "W"
      managerName = "LDP_PDR"
      appName = "RatesBroil"
    }
  }
  LDP_WRK_DL2 = {
    vm_name_suffix     = "gn1a"
    ubs_deploy_install = false
    subnet_name        = "USER-0001" # Ensure this corresponds to the subnet in the network config
    tags = {
      BackupEnabled = "false"
      PMEnabled = "false"
      type = "manager"
      role = "broker"
      gridEnv = "W"
      managerName = "LDP_WRK_DL2"
      appName = "RatesBroil"
    }
  }
  LDP_WRK_RSK = {
    vm_name_suffix     = "gn2a"
    ubs_deploy_install = false
    subnet_name        = "USER-0001" # Ensure this corresponds to the subnet in the network config
    tags = {
      BackupEnabled = "false"
      PMEnabled = "false"
      type = "manager"
      role = "broker"
      gridEnv = "W"
      managerName = "LDP_WRK_RSK"
      appName = "RatesBroil"
    }
  }
}

grid_engine_configs = {
  vmss_r_1 = {
    vmss_size               = "Standard_E16s_v5"
    vmss_sku                = "2016-Datacenter"
    vmss_name_suffix        = "r1" # Keep Unique across NEU/WEU as scalesetname will use same ATCode
    vmss_availability_zones = ["1", "2", "3"]
    vmss_custom_data        = "TF_Files/init/NodeSetup.ps1"
    subnet_name             = "USER-0001" # Ensure this corresponds to the subnet in the network config
    tags = {
      machineType    = "gridengine"
      PMEnabled      = "false"
      PMEnabledDaily = "false"
      PatchNow       = "false"
    }
  }
}
